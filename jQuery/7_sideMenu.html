<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="./jquery-3.7.1.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>사이드메뉴</title>
  <style>
    li {
      list-style: none;
    }
  </style>
  <script>
    let size = 0;
    let topping = 0;
    $(() => {
      renderPrice();
      $(".size").change(function () {
        renderPrice();
      });


      $(".topping").change(function() {
        if($(".topping").length == $(".topping:checked").length)
            $("#selectAll").prop("checked", true);
        else 
          $("#selectAll").prop("checked", false);
        renderPrice();
      });

      
      $("#selectAll").change(function() {
        if($(this).prop("checked")) 
          $(".topping").prop("checked", true);
        else
          $(".topping").prop("checked", false);
        renderPrice();
      });
    });


    function renderPrice() {
      topping = 0;
        $(".size").each((i, e) => {
          if($(e).prop("checked")) {
            size = Number($(e).val());
          }
        })
        $(".topping").each((i, e) => {
          if($(e).prop("checked")) {
            topping += Number($(e).val());
          }
        })
      $("#total").val((size + topping).toLocaleString() + "원")
    }
    
  </script>
</head>
<body>
  <div class="container">
    <div style="width: 500px; height: 60vh; margin: 0 auto;" class="mt-5">
      <div class="text-center">
        <p>치즈가 2배! 위아래 엣지까지 치즈로 덮힌 메가급 치즈디쉬 시리즈, 불향 가득한 필리스테이크의 풍미와 메가 치즈의 조합! 한 입에 느껴지는 풍부한 풍미를 느껴보세요.</p>
      </div>
      <ul>
          <li>
            <label for="L">
              <input type="radio" class="size" name="size" id="L" value="20000" checked>Large (+ 20,000)
            </label>
          </li>
          <li>  
            <label for="M">
              <input type="radio" class="size" name="size" id="M" value="16000">Medium (+ 16,000)
            </label>
          </li>
      </ul>
      <hr>
      <ul>
        <li>
          <label for="selectAll">
            <input type="checkbox" id="selectAll"> 모두선택
          </label>
        </li>
        <li>
          <label for="cheese">
            <input type="checkbox" class="topping" name="topping" value="3000" id="cheese">치즈 추가 (+3,000)
          </label>
        </li>
        <li>
          <label for="corn">
            <input type="checkbox" class="topping" name="topping" value="2000" id="corn">옥수수 추가 (+2,000)
          </label>
        </li>
        <li>
          <label for="olive">
            <input type="checkbox" class="topping" name="topping" value="1000" id="olive">올리브 추가 (+1,000)
          </label>
        </li>
        <li>
          <label for="pineapple">
            <input type="checkbox" class="topping" name="topping" value="1000" id="pineapple">파인애플 추가 (+1,000)
          </label>
        </li>
        <li>
          <label for="bacon">
            <input type="checkbox" class="topping" name="topping" value="2000" id="bacon">베이컨 추가 (+2,000)
          </label>
        </li>
      </ul>
      <div class="row">
        <div class="col-5">
          <input type="button" class="btn btn-success m-4 form-control" value="주문하기">
        </div>
        <div class="col-5">
          <input type="text" id="total" class="m-4 form-control" readonly>
        </div>
      </div>
    </div>
  </div>
</body>
</html>